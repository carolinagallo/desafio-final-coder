{"level":"error","message":"MongoNetworkError: connection establishment was cancelled\n    at connectionFailureError (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/cmap/connect.js:373:20)\n    at CancellationToken.<anonymous> (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/cmap/connect.js:290:22)\n    at Object.onceWrapper (node:events:639:28)\n    at CancellationToken.emit (node:events:520:28)\n    at ConnectionPool.close (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/cmap/connection_pool.js:277:34)\n    at Server.destroy (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/sdam/server.js:130:19)\n    at destroyServer (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/sdam/topology.js:409:12)\n    at node:internal/util:360:7\n    at new Promise (<anonymous>)\n    at destroyServer (node:internal/util:346:12)\n    at /home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/sdam/topology.js:212:56\n    at Function.from (<anonymous>)\n    at Topology.close (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/sdam/topology.js:211:40)\n    at /home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/mongo_client.js:225:22\n    at new Promise (<anonymous>)\n    at MongoClient.close (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/mongo_client.js:224:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async NativeConnection.doClose (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/drivers/node-mongodb-native/connection.js:190:3)\n    at async NativeConnection._close (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/connection.js:896:7)\n    at async Promise.all (index 0)\n    at async Mongoose.disconnect (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/index.js:425:3)\n    at async MongooseAdapter.close (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/data/factories/mongooseAdapter.js:12:5)\n    at async Context.<anonymous> (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/tests/product.test.js:27:5)"}
{"level":"error","message":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:186:23)\n    at listOnTimeout (node:internal/timers:559:17)\n    at processTimers (node:internal/timers:502:7)"}
{"level":"error","message":"Error: User dont exist\n    at UserMongooseRepository.updateOne (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/data/mongoose/repositories/userMongooseDao.js:123:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async createCart (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/cartsController.js:44:5)"}
{"level":"error","message":"Error: User dont exist\n    at UserMongooseRepository.updateOne (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/data/mongoose/repositories/userMongooseDao.js:123:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async createCart (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/cartsController.js:44:5)"}
{"level":"error","message":"Error: User dont exist\n    at UserMongooseRepository.updateOne (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/data/mongoose/repositories/userMongooseDao.js:123:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async createCart (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/cartsController.js:44:5)"}
{"level":"error","message":"ReferenceError: error is not defined\n    at addDocuments (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/usersController.js:140:28)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at multerMiddleware (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/multer/lib/make-middleware.js:13:41)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:114:3)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)"}
{"level":"error","message":"ReferenceError: error is not defined\n    at addDocuments (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/usersController.js:140:28)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at multerMiddleware (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/multer/lib/make-middleware.js:13:41)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:114:3)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)"}
{"level":"error","message":"ReferenceError: error is not defined\n    at addDocuments (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/usersController.js:140:28)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at multerMiddleware (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/multer/lib/make-middleware.js:13:41)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:114:3)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)"}
{"level":"error","message":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:186:23)\n    at listOnTimeout (node:internal/timers:559:17)\n    at processTimers (node:internal/timers:502:7)"}
{"level":"error","message":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:186:23)\n    at listOnTimeout (node:internal/timers:559:17)\n    at processTimers (node:internal/timers:502:7)"}
{"level":"error","message":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:186:23)\n    at listOnTimeout (node:internal/timers:559:17)\n    at processTimers (node:internal/timers:502:7)"}
{"level":"error","message":"ReferenceError: error is not defined\n    at addDocuments (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/usersController.js:141:28)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at multerMiddleware (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/multer/lib/make-middleware.js:13:41)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:114:3)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)"}
{"level":"error","message":"ReferenceError: error is not defined\n    at addDocuments (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/usersController.js:142:28)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at multerMiddleware (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/multer/lib/make-middleware.js:13:41)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:114:3)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)"}
{"level":"error","message":"ReferenceError: error is not defined\n    at addDocuments (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/usersController.js:142:28)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at multerMiddleware (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/multer/lib/make-middleware.js:13:41)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:114:3)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)"}
{"level":"error","message":"ReferenceError: error is not defined\n    at addDocuments (file:///home/carolina/Curso%20coderhouse/Entregables/desafio-final-coder/src/presentation/controllers/usersController.js:142:28)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at multerMiddleware (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/multer/lib/make-middleware.js:13:41)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express/lib/router/route.js:114:3)\n    at newFn (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/express-async-errors/index.js:16:20)"}
{"level":"error","message":"MongooseError: Operation `users.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:186:23)\n    at listOnTimeout (node:internal/timers:559:17)\n    at processTimers (node:internal/timers:502:7)"}
{"level":"error","message":"MongoServerError: E11000 duplicate key error collection: Prueba.users index: email_1 dup key: { email: \"martinalopez@coder.com\" }\n    at /home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/operations/insert.js:50:33\n    at /home/carolina/Curso coderhouse/Entregables/desafio-final-coder/node_modules/mongodb/lib/operations/command.js:84:64\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
